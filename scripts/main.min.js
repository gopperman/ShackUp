function shackUp(){this.baseURI=document.URL,this.pos=0,this.body=$("body")}var shack=shack||new shackUp;$(document).ready(function(){$(".nav-menu").click(function(){$(".menu").toggleClass("menu-open"),$(".overlay").fadeToggle(400,"linear")}),$(".nav-list").click(function(){$(".list").toggleClass("list-open"),$(".nav-logo").toggleClass("active"),$(this).toggleClass("active")}),$(".overlay").click(function(t){$(".menu").removeClass("menu-open"),$(".overlay").fadeToggle(200,"linear")}),$(".listing").click(function(){var t=$(this),n=$(".listing__gallery");t.hasClass("listing--detailed")||(t.addClass("listing--detailed"),n.removeClass("stopped"),n.hasClass("initialized")?(console.log("ok"),n.unslider("initSwipe"),n.unslider("initKeys"),$(".unslider-nav").css("display","block")):(n.unslider({arrows:!1,autoplay:!1,speed:500,complete:function(){},keys:!0,nav:!0,fluid:!0}),n.addClass("initialized")))}),$(".listing__gallery").click(function(t){var n=$(this),i=$(".listing");i.hasClass("listing--detailed")&&(t.stopPropagation(),i.removeClass("listing--detailed"),n.unslider("destroySwipe"),n.unslider("destroyKeys"),$(".unslider-nav").css("display","none"))})}),!function(t){return t?(t.Unslider=function(n,i){var e=this;return e._="unslider",e.defaults={autoplay:!1,delay:3e3,speed:750,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+e._+'-arrow prev">Prev</a>',next:'<a class="'+e._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:e._+"-active",swipe:!0,swipeThreshold:.2},e.$context=n,e.options={},e.$parent=null,e.$container=null,e.$slides=null,e.$nav=null,e.$arrows=[],e.total=0,e.current=0,e.prefix=e._+"-",e.eventSuffix="."+e.prefix+~~(2e3*Math.random()),e.interval=null,e.init=function(n){return e.options=t.extend({},e.defaults,n),e.$container=e.$context.find(e.options.selectors.container).addClass(e.prefix+"wrap"),e.$slides=e.$container.children(e.options.selectors.slides),e.setup(),t.each(["nav","arrows","keys","infinite"],function(n,i){e.options[i]&&e["init"+t._ucfirst(i)]()}),jQuery.event.special.swipe&&e.options.swipe&&e.initSwipe(),e.options.autoplay&&e.start(),e.calculateSlides(),e.$context.trigger(e._+".ready"),e.animate(e.options.index||e.current,"init")},e.setup=function(){e.$context.addClass(e.prefix+e.options.animation).wrap('<div class="'+e._+'" />'),e.$parent=e.$context.parent("."+e._);var t=e.$context.css("position");"static"===t&&e.$context.css("position","relative"),e.$context.css("overflow","hidden")},e.calculateSlides=function(){if(e.total=e.$slides.length,"fade"!==e.options.animation){var t="width";"vertical"===e.options.animation&&(t="height"),e.$container.css(t,100*e.total+"%").addClass(e.prefix+"carousel"),e.$slides.css(t,100/e.total+"%")}},e.start=function(){return e.interval=setTimeout(function(){e.next()},e.options.delay),e},e.stop=function(){return clearTimeout(e.interval),e},e.initNav=function(){var n=t('<nav class="'+e.prefix+'nav"><ol /></nav>');e.$slides.each(function(i){var s=this.getAttribute("data-nav")||i+1;t.isFunction(e.options.nav)&&(s=e.options.nav.call(e.$slides.eq(i),i,s)),n.children("ol").append('<li data-slide="'+i+'">'+s+"</li>")}),e.$nav=n.insertAfter(e.$context),e.$nav.find("li").on("click"+e.eventSuffix,function(){var n=t(this).addClass(e.options.activeClass);n.siblings().removeClass(e.options.activeClass),e.animate(n.attr("data-slide"))})},e.initArrows=function(){e.options.arrows===!0&&(e.options.arrows=e.defaults.arrows),t.each(e.options.arrows,function(n,i){e.$arrows.push(t(i).insertAfter(e.$context).on("click"+e.eventSuffix,e[n]))})},e.initKeys=function(){e.options.keys===!0&&(e.options.keys=e.defaults.keys),t(document).on("keyup"+e.eventSuffix,function(n){t.each(e.options.keys,function(i,s){n.which===s&&t.isFunction(e[i])&&e[i].call(e)})})},e.initSwipe=function(){var t=e.$slides.width();"fade"!==e.options.animation&&e.$container.on({movestart:function(t){return t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?!!t.preventDefault():void e.$container.css("position","relative")},move:function(n){e.$container.css("left",-(100*e.current)+100*n.distX/t+"%")},moveend:function(n){Math.abs(n.distX)/t>e.options.swipeThreshold?e[n.distX<0?"next":"prev"]():e.$container.animate({left:-(100*e.current)+"%"},e.options.speed/2)}})},e.initInfinite=function(){var n=["first","last"];t.each(n,function(t,i){e.$slides.push.apply(e.$slides,e.$slides.filter(':not(".'+e._+'-clone")')[i]().clone().addClass(e._+"-clone")["insert"+(0===t?"After":"Before")](e.$slides[n[~~!t]]()))})},e.destroyArrows=function(){t.each(e.$arrows,function(t,n){n.remove()})},e.destroySwipe=function(){e.$container.off("movestart move moveend")},e.destroyKeys=function(){t(document).off("keyup"+e.eventSuffix)},e.setIndex=function(t){return 0>t&&(t=e.total-1),e.current=Math.min(Math.max(0,t),e.total-1),e.options.nav&&e.$nav.find('[data-slide="'+e.current+'"]')._active(e.options.activeClass),e.$slides.eq(e.current)._active(e.options.activeClass),e},e.animate=function(n,i){if("first"===n&&(n=0),"last"===n&&(n=e.total),isNaN(n))return e;e.options.autoplay&&e.stop().start(),e.setIndex(n),e.$context.trigger(e._+".change",[n,e.$slides.eq(n)]);var s="animate"+t._ucfirst(e.options.animation);return t.isFunction(e[s])&&e[s](e.current,i),e},e.next=function(){var t=e.current+1;return t>=e.total&&(t=0),e.animate(t,"next")},e.prev=function(){return e.animate(e.current-1,"prev")},e.animateHorizontal=function(t){var n="left";return"rtl"===e.$context.attr("dir")&&(n="right"),e.options.infinite&&e.$container.css("margin-"+n,"-100%"),e.slide(n,t)},e.animateVertical=function(t){return e.options.animateHeight=!0,e.options.infinite&&e.$container.css("margin-top",-e.$slides.outerHeight()),e.slide("top",t)},e.slide=function(t,n){if(e.options.animateHeight&&e._move(e.$context,{height:e.$slides.eq(n).outerHeight()},!1),e.options.infinite){var i;n===e.total-1&&(i=e.total-3,n=-1),n===e.total-2&&(i=0,n=e.total-2),"number"==typeof i&&(e.setIndex(i),e.$context.on(e._+".moved",function(){e.current===i&&e.$container.css(t,-(100*i)+"%").off(e._+".moved")}))}var s={};return s[t]=-(100*n)+"%",e._move(e.$container,s)},e.animateFade=function(t){var n=e.$slides.eq(t).addClass(e.options.activeClass);e._move(n.siblings().removeClass(e.options.activeClass),{opacity:0}),e._move(n,{opacity:1},!1)},e._move=function(t,n,i,s){return i!==!1&&(i=function(){e.$context.trigger(e._+".moved")}),t._move(n,s||e.options.speed,e.options.easing,i)},e.init(i)},t.fn._active=function(t){return this.addClass(t).siblings().removeClass(t)},t._ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},t.fn._move=function(){return this.stop(!0,!0),t.fn[t.fn.velocity?"velocity":"animate"].apply(this,arguments)},void(t.fn.unslider=function(n){return this.each(function(){var i=t(this);if("string"==typeof n&&i.data("unslider")){n=n.split(":");var e=i.data("unslider")[n[0]];if(t.isFunction(e))return e.apply(i,n[1]?n[1].split(","):null)}return i.data("unslider",new t.Unslider(i,n))})})):console.warn("Unslider needs jQuery")}(window.jQuery);